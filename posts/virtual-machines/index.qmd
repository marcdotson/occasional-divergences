---
title: "Using virtual machines for R and Python with Positron"
author: "Marc Dotson"
date: "2024-07-31"
description: |
  Setting up and using virtual machines for scalable (Bayesian) computation
categories:
  - bayesian inference
  - positron?
# image: figures/positron-logo.png
slug: virtual-machines
---

Scalable computing has come a long way. However, nothing can beat the ease of remoting into a server that has (roughly) the same environment that you're used to working in. For most problems I've worked on, this hasn't largely been an issue, and I've approached trying to address this problem in fits and starts (don't talk to me about super computers), but like finally having to learn some VS Code (at least to get up-to-speed with Positron), it's time to nip this particular problem in the bud.

Recently everyone has been talking about how easy it is to tunnel into a remote machine via SSH for remote development. But this is very much a place where I need to **draw the rest of the owl** to get up-to-speed. As usual, this is fairly pedantic and possibly just for me, but if it's helpful for you, great. Thanks to Lizzy and to Andrew. This is related to, but goes beyond, just [reproducible environments](https://occasionaldivergences.com/posts/rep-env/).

This also reminds me of the saying about RegEx: If you have a problem that requires using regular expressions, you now have two problems.

- Dedicated machine.
- Dedicated shared server.
- Virtual machine.

## Setting up a VM

Where is it easy to spin up a VM using a docker container?! AWS, Azure, Google Cloud, Digital Ocean, Linode, Posit Workbench, Databricks, Snowflake?

Does scaling the RAM happen automatically?

AWS, like Azure and GCP (is it too general)? Can use AWS for *anything*. App hosting, etc. Including using GPU clusters and quantum computing! Cutting a cake with a chainsaw.

- Andrew Brown's AWS Certified Cloud Practitioner Certification Course: https://www.youtube.com/watch?v=SOTamWNgDKc&list=PLWKjhJtqVAbkzvvpY12KkfiIGso9A_Ixs&index=2
- Elastic Compute Cloud (EC2) for VM or Elastic Constainer Service (ECS) for an EC2 instance with Docker installed.
- What about higher performance computing services (HPC)? Does it only come in clusters? Would I need to use CloudShell?
- S3/RDS for storage.
- Do I need to have two VMs, one for storage and one for compute?

Digital Ocean?

## Using Docker Compose?

Do I need to figure out Docker Compose in order to set up a VM?

- Andrew's old blog post: https://www.andrewheiss.com/blog/2017/04/27/super-basic-practical-guide-to-docker-and-rstudio/index.html
- VS Code Hype (including Docker Compose, Azure, AWS extensions): https://www.youtube.com/watch?v=1ZfO149BJvg

Or I can use an existing Docker image:

- Here's an example from Andrew using R, Python, and Quarto: https://github.com/andrewheiss/example-r-python-quarto-docker
- Here's one for just R and VS Code: https://github.com/RamiKrispin/vscode-r

Andrew likes to mount local folders to the docker container so he knows where everything rather than use official dev envirnoment tools that have more opaque file systems. That said, most of his work is for testing things for package development, not for computational resources.

## Tunneling with SSH

SSH Tunneling with VS Code:

- https://www.youtube.com/watch?v=cOopQQIL8JU
- 

## Final thoughts

Is it available yet in Positron? Otherwise available for R and Python?

